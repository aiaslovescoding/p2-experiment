{"version":3,"sources":["createCar.js","commands.js","Controls.jsx","App.js","reportWebVitals.js","index.js"],"names":["createCar","carCenter","wheelBase","wheelRadius","halfWheelBase","frontWheelX","x","backWheelX","car","Composite","create","label","group","Body","nextGroup","carBody","Bodies","rectangle","y","collisionFilter","frontWheel","circle","friction","backWheel","frontAxle","Constraint","bodyB","pointB","bodyA","stiffness","length","backAxle","add","addConstraint","mouseXDistance","mouseStart","mouseFinish","Math","abs","mouseYDistance","commands","name","doCommand","engine","mouseXMiddle","mouseYMiddle","width","height","isStatic","World","world","radius","mouseDistance","pyraWidth","round","pyramid4","Composites","pyramid","indexedCommands","Object","assign","map","command","defaultCommand","getCommand","commandName","Controls","props","onClick","setCommand","App","useState","mouse","setMouse","setEngine","setMouseStart","useEffect","mainElement","document","getElementById","Array","from","children","forEach","child","remove","initMouse","Mouse","initEngine","Engine","render","Render","element","options","showAngleIndicator","showCollisions","showDebug","showPositions","showIds","showShadows","showVertexNumbers","showVelocity","showSeparations","ground","myConstraint","pointA","position","angularStiffness","strokeStyle","lineWidth","mouseConstraint","MouseConstraint","constraint","pyramid2","Events","on","setAngularVelocity","run","init","className","id","onMouseDown","onMouseUp","commandToExecute","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.0e61f265.chunk.js","sourcesContent":["import { Bodies, Constraint, Composite, Body} from 'matter-js';\r\n\r\nfunction createCar(carCenter, wheelBase, wheelRadius) {\r\n\r\n    const halfWheelBase = wheelBase/2\r\n    const frontWheelX = carCenter.x + halfWheelBase\r\n    const backWheelX = carCenter.x - halfWheelBase\r\n\r\n    const car = Composite.create({ label: 'Car' });\r\n    const group = Body.nextGroup(true);\r\n\r\n    const carBody = Bodies.rectangle(carCenter.x, carCenter.y, wheelBase, 20, {\r\n        collisionFilter: {\r\n            group: group\r\n        }\r\n    })\r\n\r\n    \r\n    const frontWheel = Bodies.circle(frontWheelX, carCenter.y, wheelRadius, {\r\n        collisionFilter: {\r\n            group: group\r\n        },\r\n        friction: 0.8,\r\n\r\n    });\r\n    const backWheel = Bodies.circle(backWheelX, carCenter.y, wheelRadius, {\r\n        collisionFilter: {\r\n            group: group\r\n        },\r\n        friction: 0.8\r\n    });\r\n\r\n    const frontAxle = Constraint.create({\r\n        bodyB: carBody,\r\n        pointB: { x:  halfWheelBase, y: 0 },\r\n        bodyA: frontWheel,\r\n        stiffness: 1,\r\n        length: 0\r\n    });\r\n\r\n    const backAxle = Constraint.create({\r\n        bodyB: carBody,\r\n        pointB: { x: - halfWheelBase, y: 0 },\r\n        bodyA: backWheel,\r\n        stiffness: 1,\r\n        length: 0\r\n    });\r\n\r\n    Composite.add(car, carBody)\r\n    Composite.add(car, frontWheel)\r\n    Composite.add(car, backWheel)\r\n\r\n    Composite.addConstraint(car, frontAxle);\r\n    Composite.addConstraint(car, backAxle);\r\n\r\n    return {car, backWheel, frontWheel};\r\n}\r\n\r\nexport default createCar;","import { Bodies, World, Composites } from 'matter-js';\r\nimport createCar from './createCar.js';\r\n\r\nfunction mouseXDistance(mouseStart, mouseFinish) {\r\n    return Math.abs(mouseStart.x - mouseFinish.x);\r\n}\r\n\r\nfunction mouseYDistance(mouseStart, mouseFinish) {\r\n    return Math.abs(mouseStart.y - mouseFinish.y);\r\n}\r\n\r\nfunction mouseDistance(mouseStart, mouseFinish) {\r\n    return ((mouseStart.y - mouseFinish.y) ** 2 + (mouseStart.x - mouseFinish.x) ** 2) ** 0.5;\r\n}\r\n\r\nconst commands = [\r\n    {\r\n        label: 'Make Rectangle',\r\n        name: 'makeRectangle',\r\n        doCommand: function (engine, mouseStart, mouseFinish) {\r\n            const mouseXMiddle = (mouseStart.x + mouseFinish.x) / 2;\r\n            const mouseYMiddle = (mouseStart.y + mouseFinish.y) / 2;\r\n            const width = mouseXDistance(mouseStart, mouseFinish)\r\n            const height = mouseYDistance(mouseStart, mouseFinish)\r\n            const rectangle = Bodies.rectangle(mouseXMiddle, mouseYMiddle, width, height, { isStatic: false });\r\n            World.add(engine.world, rectangle);\r\n        }\r\n    },\r\n    {\r\n        label: 'Make Circle',\r\n        name: 'makeCircle',\r\n        doCommand: function (engine, mouseStart, mouseFinish) {\r\n            const radius = mouseDistance(mouseStart, mouseFinish);\r\n            const circle = Bodies.circle(mouseStart.x, mouseStart.y, radius);\r\n            World.add(engine.world, circle);\r\n        }\r\n    },\r\n    {\r\n        label: 'Make Pyramid',\r\n        name: 'makePyramid',\r\n        doCommand: function (engine, mouseStart, mouseFinish) {\r\n            const shapeSize = 30\r\n            const pyraWidth = Math.round(mouseXDistance(mouseStart, mouseFinish) / shapeSize)\r\n            const pyramid4 = Composites.pyramid(mouseStart.x, mouseStart.y, pyraWidth, 30, 0, 0, function (x, y) {\r\n                return Bodies.rectangle(x, y, shapeSize, shapeSize);\r\n            });\r\n            World.add(engine.world, pyramid4);\r\n        }\r\n    },\r\n    {\r\n        label: 'Make Car',\r\n        name: 'makeCar',\r\n        doCommand: function (engine, mouseStart, mouseFinish) {\r\n            const carCenter = mouseStart;\r\n            const wheelBase = mouseXDistance(mouseStart, mouseFinish) * 2\r\n            const wheelRadius = mouseYDistance(mouseStart, mouseFinish);\r\n            const { car } = createCar(carCenter, wheelBase, wheelRadius)\r\n            World.add(engine.world, car);\r\n        }\r\n    },\r\n    {\r\n        label: 'Do Nothing',\r\n        name: 'doNothing',\r\n        doCommand: function (engine, mouseStart, mouseFinish) {\r\n\r\n        }\r\n    },\r\n]\r\n\r\nconst indexedCommands = Object.assign({}, ...commands.map(command => ({ [command.name]: command })));\r\nconst defaultCommand = indexedCommands['doNothing'];\r\n\r\nfunction getCommand(commandName) {\r\n    return indexedCommands[commandName];\r\n}\r\n\r\nfunction doCommand(commandName, engine, mouseStart, mouseFinish) {\r\n    const commandToExecute = getCommand(commandName);\r\n    if (commandToExecute) {\r\n        commandToExecute.doCommand(engine, mouseStart, mouseFinish)\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default commands;\r\nexport { doCommand, defaultCommand, getCommand };","import commands, {getCommand} from './commands.js'\r\n\r\nfunction Controls(props) {\r\n\r\n    function doCommand(name) {\r\n        props.setCommand(name);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {commands.map(command =>\r\n                <button key={command.name} onClick={() => doCommand(command.name)} >\r\n                    {command.label}\r\n                </button>)}\r\n            <div> Command: {getCommand(props.command).label}</div>\r\n        </div>\r\n        )\r\n}\r\n\r\nexport default Controls","import './App.css';\n\nimport { useEffect, useState } from 'react';\nimport { Common, Engine, Render, Bodies, World, MouseConstraint, Mouse, Constraint, Body, Events, Composites } from 'matter-js';\nimport createCar from './createCar.js'\nimport { doCommand, defaultCommand } from './commands'\nimport Controls from './Controls.jsx'\n\nfunction App() {\n\n  const [command, setCommand] = useState(defaultCommand.name);\n  const [mouse, setMouse] = useState(null);\n  const [engine, setEngine] = useState(null);\n  const [mouseStart, setMouseStart] = useState(null);\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  return (\n    <div className=\"App\">\n        <div id=\"physics\" onMouseDown={_onMouseDown} onMouseUp={_onMouseUp}></div>\n        <Controls setCommand={setCommand} command={command}></Controls>\n        <div>\n          {mouseStart && `${mouseStart.x}, ${mouseStart.y}`}\n        </div>\n    </div>\n  );\n\n  function _onMouseDown() {\n    setMouseStart({...mouse.position});\n  }\n\n  function _onMouseUp() {\n    const mouseFinish = mouse.position;\n    doCommand(command, engine, mouseStart, mouseFinish);\n  }\n\n  function init() {\n    const mainElement = document.getElementById(\"physics\");\n\n    Array.from(mainElement.children).forEach(child => child.remove())\n    const initMouse = Mouse.create(mainElement);\n    setMouse(initMouse);\n\n    const { car, frontWheel, backWheel } = createCar({x: 100, y: 0}, 200, 50);\n\n    // create an engine\n    const initEngine = Engine.create();\n\n    // create a renderer\n    const render = Render.create({\n      element: mainElement,\n      engine: initEngine,\n      options: {\n        showAngleIndicator: true,\n        showCollisions: true,\n        width: 2200,\n        showDebug: true,\n        showPositions: true,\n        showIds: true,\n        showShadows: true,\n        showVertexNumbers: false,\n        showVelocity: true,\n        showSeparations: true,\n      }\n    });\n\n    const ground = Bodies.rectangle(400, 610, 30000, 60, { isStatic: true });\n\n    const myConstraint = Constraint.create({\n      label: 'Mouse Constraint',\n      pointA: initMouse.position,\n      pointB: { x: 0, y: 0 },\n      length: 0.01,\n      stiffness: 1,\n      angularStiffness: 0,\n      render: {\n        strokeStyle: '#90EE90',\n        lineWidth: 3\n      }\n    });\n\n    const mouseConstraint = MouseConstraint.create(initEngine, { mouse: initMouse, constraint: myConstraint })\n\n\n    World.add(initEngine.world, [\n      ground, \n      mouseConstraint, \n      car\n    ]);\n\n    const pyramid2 = Composites.pyramid(1300, 0, 15, 30, 0, 0, function (x, y) {\n      return Bodies.rectangle(x, y, 20, 30);\n    });\n\n    World.add(initEngine.world, pyramid2);\n\n    \n\n    Events.on(initEngine, \"beforeUpdate\", function () {\n      Body.setAngularVelocity(backWheel, .5);\n      Body.setAngularVelocity(frontWheel, .5);\n    })\n\n    Engine.run(initEngine);\n    Render.run(render);\n    setEngine(initEngine);\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}